(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{1148:function(t,e,n){"use strict";var i=n("5926"),a=n("577e"),o=n("1d80"),r=RangeError;t.exports=function(t){var e=a(o(this)),n="",c=i(t);if(c<0||c==1/0)throw r("Wrong number of repetitions");for(;c>0;(c>>>=1)&&(e+=e))1&c&&(n+=e);return n}},2909:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t)||(0,a.default)(t)||(0,o.default)(t)||(0,r.default)()};var i=c(n("6005")),a=c(n("db90")),o=c(n("06c5")),r=c(n("3427"));function c(t){return t&&t.__esModule?t:{default:t}}},"2c24":function(t,e,n){"use strict";n.r(e);var i=n("3c0d"),a=n("b246");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var r=n("f0c5"),c=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"5d347138",null,!1,i["a"],void 0);e["default"]=c.exports},3427:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},n("d9e2"),n("d401")},3674:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{bookList:{type:Array,default:[]}},methods:{toBookDetail:function(t){0!==t&&uni.navigateTo({url:"/pages/book-detail/book-detail?id="+t})}}};e.default=i},"38cf":function(t,e,n){var i=n("23e7"),a=n("1148");i({target:"String",proto:!0},{repeat:a})},"3c09":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.queryParams=function(t){var e=[];for(var n in t)t[n]&&e.push("".concat(n,"=").concat(encodeURIComponent(t[n])));var i=e.join("&");return i=i?"?"+i:"",i},n("38cf"),n("99af"),n("ac1f"),n("d3b7"),n("159b"),n("14d9"),n("13d5");var i=uni.getSystemInfoSync().windowWidth,a=uni.getSystemInfoSync().screenHeight,o=function(t){return 750*t/i},r=function(t){var e=t.pageID,n=t.pos,i=t.success,a=[],o=uni.createSelectorQuery().in(e);o.selectAll(".".concat(n)).boundingClientRect((function(t){t.forEach((function(t){return a.push(t.height)})),i(a)})).exec()};var c={Torpx:o,Topx:function(t){return t*i/750},getSystemHeight:function(t){var e=t.isRpx,n=void 0===e||e;return n?o(a):a},formatMusicTime:function(t){var e=Math.floor(t/60),n=Math.floor(t%60),i=function(t){return"0".repeat(2-String(t).length)};return"".concat(i(e)+e,":").concat(i(n)+n)},getNodesHeightInfo:r,calSurplusHeight:function(t){var e=t.pageID,n=t.pos,i=t.isRpx,c=void 0===i||i,u=t.isTabBarPage,s=void 0!==u&&u,l=t.success;r({pageID:e,pos:n,success:function(t){var e=t.reduce((function(t,e){return t+e})),n=s?a-e-50:a-e;n=c?o(n):n;var i=Math.floor(n);l(i)}})}};e.default=c},"3c0d":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"position-fixed w-100 bg-white",staticStyle:{"z-index":"1000"}},[n("v-uni-view",{style:"height:"+t.statusBarHeight+"px"}),n("v-uni-view",{staticClass:"flex align-center  mx-2 border rounded bg-light",staticStyle:{height:"60rpx",opactity:"0.8"}},[n("iconfont",{staticClass:"p-1 flex align-center",attrs:{iconId:"icon-tubiao11",iconSize:25,iconColor:"text-light-muted"}}),n("v-uni-input",{staticClass:"flex-1 font-sm text-light-black",attrs:{type:"text",placeholder:"搜索书名或作者名"},model:{value:t.form.keyword,callback:function(e){t.$set(t.form,"keyword",e)},expression:"form.keyword"}}),n("v-uni-button",{staticClass:"flex align-center justify-center font py-0",staticStyle:{height:"60rpx"},attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toSearch.apply(void 0,arguments)}}},[t._v("搜索")])],1),n("v-uni-view",{style:"height:"+t.statusBarHeight+"px"})],1),n("v-uni-view",{staticStyle:{"margin-bottom":"60rpx"},style:"height:"+2*t.statusBarHeight+"px"}),n("book-list",{attrs:{bookList:t.list}}),0==t.list.length?n("v-uni-view",{staticClass:"flex align-center justify-center text-secondary font",staticStyle:{height:"200rpx"}},[t._v("暂无搜索内容")]):t.list.length>10||"没有更多了"==t.loadText?n("v-uni-view",{staticClass:"flex align-center justify-center font text-light-muted ",staticStyle:{height:"80rpx"}},[t._v(t._s(t.loadText))]):t._e()],1)},a=[]},6005:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(Array.isArray(t))return(0,i.default)(t)};var i=function(t){return t&&t.__esModule?t:{default:t}}(n("6b75"))},"635c":function(t,e,n){"use strict";n.r(e);var i=n("3674"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"688c":function(t,e,n){"use strict";n("7a82"),n("ac1f"),n("841c");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.getCategoryNovel=function(t,e){return a.default.get("/api/cate/".concat(t,"/novel/").concat(e))},e.getNewListt=function(t){return a.default.get("/api/newlist/".concat(t))},e.getNovel=function(t){return a.default.get("/api/read/novel/".concat(t),{token:!0,noJump:!0})},e.getReadList=function(t){return a.default.get("/api/readlist/".concat(t))},e.getRecommend=function(t){return a.default.get("/api/recommend/".concat(t))},e.search=function(t,e){var n=(0,o.queryParams)(e);return a.default.get("/api/search/".concat(t).concat(n))},n("99af");var a=i(n("4bb0")),o=n("3c09")},"9c83":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[t._l(t.bookList,(function(e,i){return[n("v-uni-view",{key:i+"_0",staticClass:"flex border-bottom p-2",attrs:{"hover-class":"bg-light"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toBookDetail(e.id)}}},[n("v-uni-image",{staticClass:"flex-shrink",staticStyle:{width:"200rpx",height:"240rpx"},attrs:{src:e.cover,mode:"aspectFill"}}),n("v-uni-view",{staticClass:"flex-1 ml-2",staticStyle:{"min-width":"0",height:"100%"}},[n("v-uni-view",{staticClass:"font-md font-weight-bold text-ellipsis"},[t._v(t._s(e.name))]),n("v-uni-view",{staticClass:"font-sm text-light-black mt-2"},[t._v(t._s(e.desc))])],1)],1)]}))],2)},a=[]},b246:function(t,e,n){"use strict";n.r(e);var i=n("d59b"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},d59b:function(t,e,n){"use strict";n("ac1f"),n("841c"),n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("99af");var a=i(n("2909")),o=i(n("fccb")),r=n("688c"),c={components:{BookList:o.default},data:function(){return{statusBarHeight:this.$statusBarHeight,page:1,form:{keyword:""},list:[],loadText:"上拉加载更多"}},onReachBottom:function(){"上拉加载更多"===this.loadText&&(this.loadText="正在加载中",this.page++,this.getSearch())},onLoad:function(t){t.keyword&&(this.form.keyword=t.keyword,this.toSearch())},methods:{toSearch:function(){if(""==this.form.keyword)return uni.showToast({title:"关键词不能为空",icon:"none"});this.page=1,this.getSearch()},getSearch:function(){var t=this;(0,r.search)(this.page,this.form).then((function(e){t.list=e.data.list,1==t.page?t.list=e.data.list:t.list=[].concat((0,a.default)(t.list),(0,a.default)(e.data.list)),t.loadText=10===e.data.list.length?"上拉加载更多":"没有更多了"})).catch((function(e){t.page>1&&t.page--,t.loadText="上拉加载更多"}))}}};e.default=c},db90:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630")},fccb:function(t,e,n){"use strict";n.r(e);var i=n("9c83"),a=n("635c");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var r=n("f0c5"),c=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"22ec4916",null,!1,i["a"],void 0);e["default"]=c.exports}}]);